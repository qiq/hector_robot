<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE Config SYSTEM "hector_config.dtd">
<!--
test8: Load and save WebSiteResources in the WebSiteManager.
-->
<Config>
	<Server id="test" lib="RobotServer.la">
		<threads>1</threads>
		<serverHost>*</serverHost>
		<serverPort>1101</serverPort>
		<logConfig>test.log.props</logConfig>
		<resources>
			<Resource id="R_test" lib="WebResource.la"/>
			<Resource id="R_test2" lib="WebSiteResource.la"/>
		</resources>
		<ProcessingEngine id="PE_test">
			<Processor id="P_main">
				<threads>1</threads>
				<modules>
					<Module id="M_input" type="perl" lib="WebResourceCreator.pm">
						<param name="urlList">
<![CDATA[						http://www.test.com:8012/foo.html
							http://www.test.com:8012/bar.html
							http://www.test.com:8012/xyzzy.html
							http://www.test.com:8012/redirect.html ]]>
						</param>
					</Module>
					<Module id="M_dump1" lib="Dump.la"/>
					<Module id="M_wsm" lib="WebSiteManager.la">
						<param name="dnsEngine" value="PE_dns"/>
						<param name="robotsEngine" value="PE_robots"/>
					</Module>
					<Module id="M_dump2" lib="Dump.la"/>
					<Module id="M_output" lib="TestOutput.la"/>
				</modules>
			</Processor>
		</ProcessingEngine>

		<ProcessingEngine id="PE_dns">
                        <inputProcessor ref="P_dns"/>
			<Processor id="P_dns">
				<threads>1</threads>
				<modules>
					<Module id="M_dns_dump1" lib="Dump.la"/>
				</modules>
                                <input>
                                        <queue/>
                                </input>
                                <output>
                                        <nextProcessor ref="PE_dns"/>
                                </output>
			</Processor>
		</ProcessingEngine>

		<ProcessingEngine id="PE_robots">
                        <inputProcessor ref="P_robots"/>
			<Processor id="P_robots">
				<threads>1</threads>
				<modules>
					<Module id="M_robots_dump1" lib="Dump.la"/>
				</modules>
                                <input>
                                        <queue/>
                                </input>
                                <output>
                                        <nextProcessor ref="PE_robots"/>
                                </output>
			</Processor>
		</ProcessingEngine>

		<ProcessingEngine id="PE_dump">
			<Processor id="P_dump">
				<threads>1</threads>
				<modules>
					<Module id="M_dump_load" lib="Load.la"/>
					<Module id="M_dump_dump" lib="Dump.la"/>
					<Module id="M_dump_output" lib="TestOutput.la"/>
				</modules>
			</Processor>
		</ProcessingEngine>
	</Server>
</Config>
